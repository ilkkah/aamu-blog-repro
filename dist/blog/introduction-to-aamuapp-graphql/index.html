<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:description" content="How to use the database from a distance"/><meta data-react-helmet="true" name="description" content="How to use the database from a distance"/><meta data-react-helmet="true" property="og:description" content="How to use the database from a distance"/><meta data-react-helmet="true" property="og:image" content="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634671479716.jpg"/><meta data-react-helmet="true" property="og:logo" content="https://st.aamu.app/img/logo.png"/><meta data-react-helmet="true" name="twitter:image" content="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634671479716.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Aamu.app blog – Introduction to Aamu.app GraphQL"/><meta data-react-helmet="true" property="og:title" content="Aamu.app blog – Introduction to Aamu.app GraphQL"/><meta name="generator" content="Gatsby 4.18.2"/><style data-href="/blog/styles.6163b0d1c8f773d0bcf2.css" data-identity="gatsby-global-css">.hero-module--hero--JreNK{box-sizing:border-box;color:#000;padding:50px 0;position:relative;text-align:center}.hero-module--hero--JreNK h2{font-weight:400}.hero-module--hero--JreNK h1{font-size:4rem}.hero-module--hero--JreNK h1,.hero-module--hero--JreNK h2{font-family:inherit;margin:0}@media(min-width:600px){.hero-module--heroDetails--xCojk{font-size:16px}}@media(min-width:1000px){.hero-module--heroDetails--xCojk{font-size:20px}}body{background:#f3f2ee;color:#373f49;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:1em;line-height:1.7;margin:0}img{display:block;image-rendering:-webkit-optimize-contrast;max-width:100%;will-change:transform}.remark-highlight{font-size:1rem}.article-list a{color:currentColor;display:block;max-width:300px;text-decoration:none}article-list h3{margin-bottom:0}.article-list{grid-gap:5vmin;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));list-style:none;margin:0;padding:0}.container.container-root{max-width:1024px}.container{box-sizing:border-box;margin:auto;max-width:809px;padding:0 20px}.list-inline{list-style:none;margin:0;padding:0}.list-inline li{display:inline-block}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.navigation-module--navigation--kqix2{display:flex;font-size:1.25em;height:15vh;justify-content:space-around;list-style:none;margin:0;max-height:80px;padding:0}.navigation-module--navigationItem--0\+3fY{align-items:center;display:inline-flex;margin:0 1em}.navigation-module--navigationItem--0\+3fY a:hover{text-decoration:underline}.navigation-module--navigationItem--0\+3fY a{color:currentColor;display:flex;font-weight:700;text-decoration:none}.navigation-module--navigationItem--0\+3fY a img{border-radius:50%;height:30px;margin-right:10px;width:30px}.article-preview-module--tag--87gie{border:1px solid #a0a0a0;border-radius:2px;color:#a0a0a0;display:inline-block;line-height:1;margin-right:.5em;padding:.33333rem .5rem;text-decoration:none}.article-preview-module--article-preview--I7zOQ h3{margin-bottom:0}.blog-post-module--blog-post-meta--YapJ7{align-items:center;display:flex;font-style:italic}.blog-post-module--author--Gak8S{border-radius:50%;margin-right:20px}.blog-post-module--blog-post--WZRrV .blog-post-module--section-headline--EpLix{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.blog-post-module--blog-post-article--sPkAY a{color:#373f49}.blog-post-module--blog-post-article--sPkAY img{border-radius:3px;box-shadow:0 0 10px rgba(0,0,0,.1);margin:20px auto}.blog-post-module--blog-post--WZRrV{font-family:"IBM Plex Serif",ui-serif,Georgia,Cambria,Times New Roman,Times,serif;font-size:1.5rem;padding-bottom:200px}p>code{background-color:#eee;border:1px solid #ccc;border-radius:5px;display:inline-block;padding:0 .5em;white-space:nowrap}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true" lang="en">Introduction to Aamu.app GraphQL | Aamu.app blog</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="https://st.aamu.app/img/logo.png"/><link data-react-helmet="true" rel="preconnect" href="https://fonts.googleapis.com"/><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet"/><script data-react-helmet="true" defer="" src="https://ilkkah.aamu.app/livechat.js"></script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><nav role="navigation"><ul class="navigation-module--navigation--kqix2"><li class="navigation-module--navigationItem--0+3fY"><a href="https://aamu.app"><img class="logo" src="https://st.aamu.app/img/logo-100-wbg.webp"/> Aamu.app</a></li><li class="navigation-module--navigationItem--0+3fY"><a href="/blog/">Blog</a></li></ul></nav><div class="container"><div class="container-inner"><div><div><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:27.29166666666667%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAduhaCf/xAAXEAEAAwAAAAAAAAAAAAAAAAABEBEi/9oACAEBAAEFAk1TH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAADEAEP/aAAgBAQAGPwJnP//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBFh/9oACAEBAAE/IWVGmP/aAAwDAQACAAMAAAAQi8//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QVyf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAGxABAAICAwAAAAAAAAAAAAAAAQAhMfERcaH/2gAIAQEAAT8QQ4g4x1vyaAhi7n//2Q==" alt=""/><picture><source type="image/webp" data-srcset="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/a5556/1634671479716.webp 750w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/003a3/1634671479716.webp 1080w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/e5d5a/1634671479716.webp 1366w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/dd931/1634671479716.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/b8172/1634671479716.jpg" data-srcset="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/f8c3f/1634671479716.jpg 750w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/684ac/1634671479716.jpg 1080w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/fc9bd/1634671479716.jpg 1366w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/b8172/1634671479716.jpg 1920w" alt="Introduction to Aamu.app GraphQL"/></picture><noscript><picture><source type="image/webp" srcSet="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/a5556/1634671479716.webp 750w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/003a3/1634671479716.webp 1080w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/e5d5a/1634671479716.webp 1366w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/dd931/1634671479716.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/b8172/1634671479716.jpg" srcSet="/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/f8c3f/1634671479716.jpg 750w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/684ac/1634671479716.jpg 1080w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/fc9bd/1634671479716.jpg 1366w,/blog/static/e57f3bf370f9cc31f47d4ef275bacff1/b8172/1634671479716.jpg 1920w" alt="Introduction to Aamu.app GraphQL"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="blog-post-module--blog-post--WZRrV"><h1 class="blog-post-module--section-headline--EpLix">Introduction to Aamu.app GraphQL</h1><div class="blog-post-module--blog-post-meta--YapJ7"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained blog-post-module--author--Gak8S"><div style="max-width:100px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;100&#x27; width=&#x27;100&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQMC/9oADAMBAAIQAxAAAAGU9ym9KsqXIUfqAP/EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMRBBL/2gAIAQEAAQUCYTGmGW6gPToU+g51KFFlyqEn/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQERL/2gAIAQIBAT8BVmhR/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAECESExQRD/2gAIAQEABj8CeLNeXdmslkr4iMXpjiuM/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARITFhUXH/2gAIAQEAAT8hBFp49gTpM6TzWL6xmVKkt+o1aIRXwlp9m1NWUvZ//9oADAMBAAIAAwAAABCnBwH/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEDAQE/EAMd7bMN/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxAZlDlwyX//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMUFRkbH/2gAIAQEAAT8QQk/CDpz7w4AtDKbON93kwCQ6Fw46QXTeIeoar0fMnbgG4P7ktWteNM31oUjxcYaiRW+5/9k=" alt=""/><picture><source type="image/webp" data-srcset="/blog/static/57ad26e5f38695d0257cc252a59229e2/2fa99/1657853120956.webp 25w,/blog/static/57ad26e5f38695d0257cc252a59229e2/dbc4a/1657853120956.webp 50w,/blog/static/57ad26e5f38695d0257cc252a59229e2/d8057/1657853120956.webp 100w,/blog/static/57ad26e5f38695d0257cc252a59229e2/2e34e/1657853120956.webp 200w" sizes="(min-width: 100px) 100px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 100px) 100px, 100vw" decoding="async" loading="lazy" data-src="/blog/static/57ad26e5f38695d0257cc252a59229e2/e07e1/1657853120956.jpg" data-srcset="/blog/static/57ad26e5f38695d0257cc252a59229e2/74ef0/1657853120956.jpg 25w,/blog/static/57ad26e5f38695d0257cc252a59229e2/6ac16/1657853120956.jpg 50w,/blog/static/57ad26e5f38695d0257cc252a59229e2/e07e1/1657853120956.jpg 100w,/blog/static/57ad26e5f38695d0257cc252a59229e2/dd515/1657853120956.jpg 200w" alt="Ilkka Huotari"/></picture><noscript><picture><source type="image/webp" srcSet="/blog/static/57ad26e5f38695d0257cc252a59229e2/2fa99/1657853120956.webp 25w,/blog/static/57ad26e5f38695d0257cc252a59229e2/dbc4a/1657853120956.webp 50w,/blog/static/57ad26e5f38695d0257cc252a59229e2/d8057/1657853120956.webp 100w,/blog/static/57ad26e5f38695d0257cc252a59229e2/2e34e/1657853120956.webp 200w" sizes="(min-width: 100px) 100px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 100px) 100px, 100vw" decoding="async" loading="lazy" src="/blog/static/57ad26e5f38695d0257cc252a59229e2/e07e1/1657853120956.jpg" srcSet="/blog/static/57ad26e5f38695d0257cc252a59229e2/74ef0/1657853120956.jpg 25w,/blog/static/57ad26e5f38695d0257cc252a59229e2/6ac16/1657853120956.jpg 50w,/blog/static/57ad26e5f38695d0257cc252a59229e2/e07e1/1657853120956.jpg 100w,/blog/static/57ad26e5f38695d0257cc252a59229e2/dd515/1657853120956.jpg 200w" alt="Ilkka Huotari"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div> by <!-- -->Ilkka Huotari<!-- --> on <!-- -->October 19, 2021</div><div class="blog-post-module--blog-post-article--sPkAY"><p>Aamu.app database supports two APIs: you can submit data into a database via just standard <em>html forms</em> – this works just one direction – to add data into the database. Also, you can get and put data into the database via <em>GraphQL</em>.</p>
<p>As Wikipedia <a href="https://en.wikipedia.org/wiki/GraphQL" target="_blank">says it</a>, "GraphQL is an open-source data query and manipulation language". It's a query language, and it has a syntax for reading and writing the database. For testing it out, it is helpful to have a tool. I like <a href="https://altair-gql.sirmuel.design/" target="_blank">Altair</a>.</p>
<p>To use Altair, or any similar tool, you first need to setup it with some information about your database; the database endpoint and the database API key. You can get the API key from the <em>database settings</em>. The database endpoint is this: <code>https://api.aamu.app/api/v1/graphql/</code>.</p>
<p>After you have set those, there is the option to the get database schema. The schema will help you to query the database. In Altair the schema is called <em>Docs</em>. If you change the database structure, you can refresh the schema in the tool of your choice. In Altair, there is a refresh icon, which has a tooltip to <em>Reload Docs</em>.</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634699877668.jpg" alt=""></p>
<p>You can browse around the schema. On the top, the schema has the following parts: <em>Query</em> and <em>Mutation</em>, which stand for reading and writing.</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634700200591.jpg" alt=""></p>
<h2>Querying the database</h2>
<p>Let's see, what we have in <em>Query</em>. We see that there are some fields, which correspond to our sheets (or tables) in our database. I am using the <em>aamu-blog</em> as an example, and in the aamu-blog there are two sheets: <em>Blog post</em> and <em>Person</em>.</p>
<p>For each sheet there are two ways to query it: to get one specific row from it and to get multiple rows. Let's go through each case.</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634701341708.jpg" alt=""></p>
<p>To get a single row, in this case a blog post, you would query it through one of its <em>unique fields</em>. You can set the field as unique by editing the <em>column properties</em> in the database sheet. There is a checkmark that makes the column <em>unique</em>. For blog posts, the slug is marked as unique. Slug stands for "part of the url":</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634700713455.jpg" alt=""></p>
<p>So, you can get these blog posts by knowing its <em>slug</em> or by its <em>ID</em>. In practice, in this blog application, you would use the slug, as that is something that you know – the user will enter the url in the browser and that url will have the slug. So you use that slug the retrieve the correct blog post.</p>
<p>Here is an example how you would query a single blog post (this particular one). In the parenthesis you would enter the unique field and in the braces you would enter the fields that the query should return for this particular item.</p>
<div class="remark-highlight"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token punctuation">{</span>
  <span class="token property-query">BlogPost</span> <span class="token punctuation">(</span><span class="token attr-name">slug</span><span class="token punctuation">:</span> <span class="token string">"introduction-to-aamuapp-graphql"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property">id</span>
    <span class="token property">created</span>
    <span class="token property">updated</span>
    <span class="token property">title</span>
    <span class="token property">slug</span>
    <span class="token property">description</span>
    <span class="token property">body</span>
    <span class="token property">publishDate</span>
    <span class="token property">status</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div>
<p>You can also get items by querying the field <em>BlogPostCollection</em>. This gives you from zero to multiple rows. You can also do filtering, sorting and pagination. In practice you probably will want to do at least filtering.</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634701474749.jpg" alt=""></p>
<p>Let's see how the filtering goes. By clicking <em>filter</em>, you will get a list of fields by which you can filter. In practice you can filter by any field in the sheet.</p>
<p>Let's see how <em>aamu-blog</em> gets the blog posts for its main page. It will filter by <code>status</code> and sort by <code>publishDate</code>. Here is the query:</p>
<div class="remark-highlight"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token punctuation">{</span>
      <span class="token property-query">BlogPostCollection</span> <span class="token punctuation">(</span><span class="token attr-name">filter</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">status</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">EQ</span><span class="token punctuation">:</span> <span class="token string">"published"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">sort</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">publishDate</span><span class="token punctuation">:</span> <span class="token constant">DESC</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token property">title</span>
        <span class="token property">slug</span>
        <span class="token property">publishDate</span>
        <span class="token property">description</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>You will notice that we have used <code>EQ</code> to filter for <code>status</code>. For retrieving single items through unique fields this isn't needed, as the item is always retrieving by the exact same value, but for retrieving multiple items there are more possibilities. In Altair, you can get help by pressing <em>Ctrl + space</em>. Altair will give you a list of options how you can filter, like this:</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634703813603.jpg" alt=""></p>
<p><code>EQ</code> stands for "equals", <code>GT</code> stands for "greater than", <code>LT</code> stands for "less than", etc.</p>
<p>For sorting, you can get similar help. There are two ways to sort, ascending and descending:</p>
<p><img src="https://pic.aamu.app/c78de4b4-c1ed-41e5-83af-a27352c12c31/652c5510-debe-4ffb-a5bc-89334b053c9f/1634704152244.jpg" alt=""></p>
<p>Pagination is pretty straight forward. You would use it like this:</p>
<div class="remark-highlight"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token punctuation">{</span>
      <span class="token property-query">BlogPostCollection</span> <span class="token punctuation">(</span> <span class="token attr-name">filter</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">status</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">EQ</span><span class="token punctuation">:</span> <span class="token string">"published"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">sort</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">publishDate</span><span class="token punctuation">:</span>  <span class="token constant">DESC</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">pagination</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">limit</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token attr-name">skip</span><span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token property">title</span>
        <span class="token property">slug</span>
        <span class="token property">publishDate</span>
        <span class="token property">description</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>That covers querying the database.</p>
</div></div></div><aamu-livechat data-username="" data-useremail="" data-host="ilkkah" data-pid="0a597a28d3041a8b31a4e6792e5fc132"></aamu-livechat></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/introduction-to-aamuapp-graphql/";window.___webpackCompilationHash="8d5447e980dfe60be830";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-231186f764bf7bc5789a.js"],"app":["/app-4b7d9a721505d8ed112a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-aaf1b84e4847f8755fe6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ded067cebae867366bc9.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2b458819f6fbc751a99c.js"]};/*]]>*/</script><script src="/blog/polyfill-231186f764bf7bc5789a.js" nomodule=""></script><script src="/blog/app-4b7d9a721505d8ed112a.js" async=""></script><script src="/blog/framework-c52802b804a7a574371d.js" async=""></script><script src="/blog/webpack-runtime-f93486809854b1c8f851.js" async=""></script></body></html>